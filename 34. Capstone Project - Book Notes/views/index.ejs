<%- include('partials/header.ejs') %>

<!-- sidebar + content -->
<section class="">
  <div class="container">
    <div class="row">
      <!-- content -->
      <div>
        <% for( let book of library) { %>
        <div class="row justify-content-center mb-3">
          <div class="card shadow-0 border rounded-3">
            <div class="card-body d-flex">
              <div
                class="col-xl-3 col-md-4 col-sm-5 d-flex justify-content-center align-items-center"
              >
                <div
                  class="bg-image hover-zoom ripple rounded ripple-surface me-md-3 mb-3 mb-md-0"
                >
                  <a href="/book?id=<%= book.id %>">
                    <div class="hover-overlay">
                      <div
                        class="mask"
                        style="background-color: rgba(253, 253, 253, 0.15)"
                      >
                        <img
                          src="https://covers.openlibrary.org/b/isbn/<%= book.isbn %>-M.jpg"
                          alt="Book Image"
                          style="height: max-content"
                        />
                      </div>
                    </div>
                  </a>
                </div>
              </div>
              <div class="col-xl-9 col-md-8 col-sm-7 container">
                <a
                  href="/book?id=<%= book.id %>"
                  class="link-dark link-underline-opacity-0"
                >
                  <span class="fs-2 fw-bold"><%= book.title %></span>
                </a>
                <span class="fs-4 text-muted mx-2">
                  - By <%= book.author %>
                </span>

                <div class="d-flex flex-row row my-2">
                  <div class="text-warning mb-1 me-2 fs-5">
                    <% for( let star = 1; star <= 5; star++ ) { %> <% if (star
                    <= Math.floor(book.rating)) { %>
                    <i class="fa fa-star"></i>
                    <% } else if (star === Math.floor(book.rating) + 1 &&
                    book.rating % 1 != 0) { %>
                    <i class="fas fa-star-half-alt"></i>
                    <% } else { %>
                    <i class="far fa-star"></i>
                    <% } %> <% } %>
                    <span class="ms-1"> <%= book.rating %> </span>
                  </div>
                </div>
                <div class="row my-2">
                  <p class="text mb-4 mb-md-0 fs-5"><%= book.description %></p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <% } %>

        <hr />

        <!-- Pagination -->
        <nav
          aria-label="Page navigation example"
          class="d-flex justify-content-center mt-3"
        >
          <ul class="pagination">
            <li class="page-item disabled">
              <a class="page-link" href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>
            <li class="page-item active">
              <a class="page-link" href="#">1</a>
            </li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">4</a></li>
            <li class="page-item"><a class="page-link" href="#">5</a></li>
            <li class="page-item">
              <a class="page-link" href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
          </ul>
        </nav>
        <!-- Pagination -->
      </div>
    </div>
  </div>
</section>

<%- include('partials/footer.ejs') %>
